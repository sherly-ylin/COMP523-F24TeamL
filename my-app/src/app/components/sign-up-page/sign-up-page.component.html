<div class="sign-up-page">
  <img
    src="https://www.med.unc.edu/psych/wp-content/uploads/sites/839/2020/03/psychiatry.png"
  />
  <h1>Sign Up</h1>
  <form [formGroup]="signUpForm" (ngSubmit)="onSubmit()">
    <mat-form-field class="form-field">
      <mat-label>Username</mat-label>
      <input
        matInput
        formControlName="username"
        placeholder="Optional, the default username is your email"
      />
      <mat-error></mat-error>
    </mat-form-field>

    <mat-form-field class="form-field">
      <mat-label>Password</mat-label>
      <input
        matInput
        type="password"
        formControlName="password"
      />
      @if (password?.touched && password?.errors?.['required']) {
        <mat-error>A valid password is required!</mat-error>
      }
      @if (password?.touched) {
        <mat-error [class]="password?.errors?.['minlength'] ? 'error' : 'correct'">
          @if (!password?.errors?.['minlength']) {
            ✓
          }
          Password should include at least
          {{ PASSWORD_MIN_LENGTH }} characters.
        </mat-error>
        <mat-error [class]="password?.errors?.['noUppercase'] ? 'error' : 'correct'">
          @if (!password?.errors?.['noUppercase']) {
            ✓
          }
          Password should include at least {{ PASSWORD_MIN_UPPER }} uppercase
          letter.
        </mat-error>
        <mat-error [class]="password?.errors?.['noLowercase'] ? 'error' : 'correct'">
          @if (!password?.errors?.['noLowercase']) {
            ✓
          }
          Password should include at least {{ PASSWORD_MIN_LOWER }} lowercase
          letter.
        </mat-error>
        <mat-error [class]="password?.errors?.['noNumber'] ? 'error' : 'correct'">
          @if (!password?.errors?.['noNumber']) {
            ✓
          }
          Password should include at least
          {{ PASSWORD_MIN_NUMBER }} number.
        </mat-error>
        <mat-error [class]="password?.errors?.['noSymbol'] ? 'error' : 'correct'">
          @if (!password?.errors?.['noSymbol']) {
            ✓
          }
          Password should include at least
          {{ PASSWORD_MIN_SYMBOL }} symbol.
        </mat-error>
      }
    </mat-form-field>

    <mat-form-field class="form-field">
      <mat-label>Confirm Password:</mat-label>
      <input
        matInput
        type="password"
        formControlName="confirmPassword"
      />
      @if (
        confirmPassword?.touched && confirmPassword?.invalid && confirmPassword?.hasError("required")
      ) {
        <mat-error class="error">Passwords do not match!</mat-error>
        <!-- confirmPassword &&
        passwordRequirementsSatisfied() &&
        password != confirmPassword -->
      }
    </mat-form-field>

    <button mat-flat-button type="submit">Sign Up</button>
  </form>
</div>
