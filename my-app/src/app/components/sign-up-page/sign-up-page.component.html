<div class="sign-up-page">
  <img
    src="https://www.med.unc.edu/psych/wp-content/uploads/sites/839/2020/03/psychiatry.png"
  />
  <h1>Sign Up</h1>
  <form [formGroup]="signUpForm" (ngSubmit)="onSubmit()">
    <mat-form-field class="form-field" appearance="outline">
      <mat-label>Username</mat-label>
      <input
        matInput
        formControlName="username"
        (blur)="setUsernameDefaultValue()"
        placeholder="Optional, the default username is your email"
      />
      @if (username?.value) {
        <button
          mat-icon-button
          matSuffix
          type="button"
          (click)="clearUsernameField()"
        >
          <mat-icon>cancel</mat-icon>
        </button>
      }
      <mat-error>This username is already taken, try another one!</mat-error>
    </mat-form-field>

    <set-password [formGroup]="signUpForm"></set-password>

    <button mat-flat-button [disabled]="signUpForm.invalid" type="submit">
      Sign Up
    </button>
  </form>
</div>
